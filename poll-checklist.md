# 온라인 설문조사/투표 페이지 구현 체크리스트

## 기능 요구사항 (우선순위 순)

- [x] 설문/투표 질문 및 선택지 표시: 단일 질문과 여러 선택지(2~5개) 제공
- [x] 투표 기능: 사용자가 선택지를 선택하고 투표할 수 있음
- [x] 투표 결과 표시: 투표 후 각 선택지별 득표수/비율 시각화
- [x] shadcn/ui 컴포넌트 적극 활용 (예: Card, Button, Progress, RadioGroup, Switch 등)
- [x] 반응형 디자인: 모바일, 태블릿, 데스크톱에서 모두 사용성 보장
- [x] 메인 목록 페이지에 "온라인 설문조사/투표" 카드 추가 및 해당 페이지로 이동 가능
- [x] 중복 투표 방지: 한 사용자가 여러 번 투표하지 못하도록 제한 (localStorage 사용)
- [x] 결과 공개 설정: 투표 전/후 결과 공개 여부 설정
- [x] 투표 만료일/시간 설정: 설문조사 마감 시간 설정 및 만료 시 투표 차단
- [ ] 환경 변수: 외부 API 연동 등 환경 변수 필요 시 .env 파일 및 체크리스트에 추가

## 추가 구현된 기능

- [x] 다중 설문 지원: 여러 개의 설문조사 중 선택하여 참여 가능
- [x] 실시간 결과 업데이트: 투표 즉시 결과 반영 및 시각화
- [x] 투표 상태 관리: 투표 완료 상태 표시 및 중복 투표 방지
- [x] 설문 정보 표시: 총 참여자 수, 설정 정보, 마감일 등 표시
- [x] 탭 기반 UI: 투표하기/결과보기 탭으로 구분된 인터페이스
- [x] 설정 관리: 실시간으로 설문 설정 변경 가능
- [x] 접근성 고려: 라디오 버튼, 라벨, ARIA 속성 등 접근성 향상
- [x] 로컬 스토리지 활용: 투표 기록 저장 및 중복 투표 방지

## 개발 단계 (Step by Step)

- [x] 데이터 및 예시 준비: 설문/투표 질문, 선택지, 초기 득표수 등 예시 데이터 파일 준비
- [x] 컴포넌트 구조 설계: 전체 페이지, 질문/선택지, 투표 버튼, 결과 표시, 옵션/설정 등 컴포넌트 구조 설계
- [x] 메인 목록 페이지 카드 추가: 목록 페이지에 "온라인 설문조사/투표" 카드 추가 및 라우팅 연결
- [x] 질문/선택지 UI 구현: shadcn/ui Card, RadioGroup 등으로 질문과 선택지 UI 구현
- [x] 투표 기능 및 결과 표시: 선택지 선택 후 투표 버튼 클릭 시 득표수/비율 업데이트 및 결과 시각화(Progress Bar 등)
- [x] 중복 투표 방지/결과 공개/만료일 등 옵션: 중복 투표 방지(로컬스토리지 등), 결과 공개/비공개, 만료일 설정 등 옵션 UI 및 로직 구현
- [x] 반응형 및 스타일링: Tailwind CSS와 shadcn/ui로 전체 레이아웃 및 컴포넌트 스타일링
- [ ] 환경 변수 적용(필요 시): 외부 API 연동 등 환경 변수 필요 시 .env 파일 및 체크리스트에 추가
- [x] 최종 점검 및 체크리스트 갱신: 구현 완료된 항목 체크

## 환경 변수 (현재 불필요)

현재 구현된 기능에서는 외부 API 연동이 없어 환경 변수가 필요하지 않습니다.
향후 다음과 같은 기능 추가 시 환경 변수가 필요할 수 있습니다:

- [ ] 실시간 투표 동기화 (WebSocket 서버 연동)
- [ ] 사용자 인증 시스템 (OAuth, JWT 등)
- [ ] 데이터베이스 연동 (투표 데이터 영구 저장)
- [ ] 이메일 알림 시스템 (투표 결과 알림)
- [ ] 소셜 미디어 공유 기능

### 필요 시 추가할 환경 변수 가이드:

외부 서비스 연동이 필요한 경우, 다음과 같은 방식으로 환경 변수를 설정하세요:

1. **서버 사이드 환경 변수**: API 키, 데이터베이스 연결 정보 등 민감한 정보는 서버에서만 사용
2. **클라이언트 사이드 환경 변수**: 공개되어도 안전한 설정값만 NEXT_PUBLIC_ 접두사 사용
3. **환경 변수 파일**: .env.local 파일에 저장하고 .gitignore에 추가

예시 구조:
\`\`\`
# .env.local (서버 사이드 전용)
DATABASE_URL=your_database_connection_string
WEBSOCKET_SERVER_URL=your_websocket_server_url
EMAIL_API_KEY=your_email_service_api_key

# .env.local (클라이언트 사이드 - 공개 가능한 설정만)
NEXT_PUBLIC_APP_NAME=PollApp
NEXT_PUBLIC_MAX_POLL_OPTIONS=10
NEXT_PUBLIC_DEFAULT_POLL_DURATION=7
\`\`\`

**보안 주의사항**: 
- API 키나 데이터베이스 연결 정보는 절대 NEXT_PUBLIC_ 접두사를 사용하지 마세요
- 민감한 데이터는 서버 컴포넌트나 API 라우트에서만 처리하세요
- 환경 변수 파일은 버전 관리에 포함하지 마세요

## 기술 스택 및 컴포넌트 구조

### 기술 스택
- **프레임워크**: Next.js 14 (App Router)
- **스타일링**: Tailwind CSS
- **UI 컴포넌트**: shadcn/ui
- **상태 관리**: React useState, useEffect
- **데이터 저장**: localStorage (클라이언트 사이드)
- **타입스크립트**: 완전한 타입 안정성

### 컴포넌트 구조
- **PollPage**: 전체 페이지 및 상태 관리, 설문 선택, 탭 관리
- **PollQuestion**: 질문 및 선택지 표시, 투표 기능
- **PollResults**: 결과 시각화 (Progress Bar, 득표수/비율)
- **PollOptions**: 설정 관리 (중복 투표, 결과 공개, 만료일)
- **MainListPage**: 메인 목록 페이지 (카드 추가)

### 데이터 구조
- **Poll**: 설문조사 전체 정보
- **PollOption**: 개별 선택지 정보
- **설정값**: 중복 투표 허용, 결과 공개, 만료일 등

## 추가 개선 사항 (향후 구현 가능)

- [ ] 다중 선택 투표: 여러 선택지를 동시에 선택할 수 있는 기능
- [ ] 설문 생성 기능: 사용자가 직접 새로운 설문을 만들 수 있는 기능
- [ ] 댓글 시스템: 투표에 대한 의견을 남길 수 있는 기능
- [ ] 투표 히스토리: 사용자의 투표 기록을 확인할 수 있는 기능
- [ ] 소셜 공유: 설문조사를 소셜 미디어에 공유하는 기능
- [ ] 실시간 동기화: WebSocket을 통한 실시간 투표 결과 동기화
- [ ] 사용자 인증: 로그인 기반 투표 시스템
- [ ] 투표 분석: 시간대별, 지역별 투표 패턴 분석
- [ ] 모바일 앱: React Native를 활용한 모바일 앱 버전
- [ ] 다국어 지원: 여러 언어로 설문조사 제공
